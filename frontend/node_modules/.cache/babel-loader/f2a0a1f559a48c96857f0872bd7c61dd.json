{"ast":null,"code":"import _defineProperty from\"C:/Users/Admin/Desktop/jv6/demo/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:/Users/Admin/Desktop/jv6/demo/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/Users/Admin/Desktop/jv6/demo/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import axios from'axios';import React,{useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Login(){var api=\"http://localhost:8080/authenticate\";var _useState=useState({username:'',password:''}),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var change=function change(e){setUser(_objectSpread(_objectSpread({},user),{},_defineProperty({},e.target.name,e.target.value)));};function setCookie(cname,cvalue){var d=new Date();d.setTime(d.getTime()+1000*60*60*10);var expires=\"expires=\"+d.toUTCString();console.log(d.toUTCString());document.cookie=cname+\"=\"+cvalue+\";\"+expires;}var login=function login(){axios.post(api,user).then(function(res){setCookie(\"jwt\",\"Bearer \"+res.data.jwt);console.log(res.data);}).catch(function(error){console.log(error);});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-center\",children:\"Login\"}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center mt-3 mb-3\",children:/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"exampleFormControlInput1\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"username\",name:\"username\",value:user.username,onChange:change,placeholder:\"username\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"exampleFormControlInput1\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",id:\"password\",name:\"password\",value:user.password,onChange:change,placeholder:\"password\"})]})]})}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",class:\"btn btn-primary content-conter\",onClick:login,children:\"Login\"})]});}","map":{"version":3,"sources":["C:/Users/Admin/Desktop/jv6/demo/frontend/src/components/Login.js"],"names":["axios","React","useState","Login","api","username","password","user","setUser","change","e","target","name","value","setCookie","cname","cvalue","d","Date","setTime","getTime","expires","toUTCString","console","log","document","cookie","login","post","then","res","data","jwt","catch","error"],"mappings":"8dAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,EAAcC,QAAd,KAA6B,OAA7B,C,wFAEA,cAAe,SAASC,CAAAA,KAAT,EAAiB,CAE5B,GAAMC,CAAAA,GAAG,CAAG,oCAAZ,CAEA,cAAuBF,QAAQ,CAAC,CAACG,QAAQ,CAAC,EAAV,CAAaC,QAAQ,CAAC,EAAtB,CAAD,CAA/B,wCAAOC,IAAP,eAAYC,OAAZ,eAEA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAACC,CAAD,CAAK,CAEhBF,OAAO,gCAAKD,IAAL,wBAAWG,CAAC,CAACC,MAAF,CAASC,IAApB,CAA0BF,CAAC,CAACC,MAAF,CAASE,KAAnC,GAAP,CACH,CAHD,CAIA,QAASC,CAAAA,SAAT,CAAmBC,KAAnB,CAA0BC,MAA1B,CAAkC,CAC9B,GAAMC,CAAAA,CAAC,CAAG,GAAIC,CAAAA,IAAJ,EAAV,CACAD,CAAC,CAACE,OAAF,CAAUF,CAAC,CAACG,OAAF,GAAc,KAAK,EAAL,CAAQ,EAAR,CAAW,EAAnC,EACA,GAAIC,CAAAA,OAAO,CAAG,WAAYJ,CAAC,CAACK,WAAF,EAA1B,CACAC,OAAO,CAACC,GAAR,CAAYP,CAAC,CAACK,WAAF,EAAZ,EACAG,QAAQ,CAACC,MAAT,CAAkBX,KAAK,CAAG,GAAR,CAAcC,MAAd,CAAuB,GAAvB,CAA6BK,OAA/C,CACD,CACH,GAAMM,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,EAAI,CACd3B,KAAK,CAAC4B,IAAN,CAAWxB,GAAX,CAAeG,IAAf,EACCsB,IADD,CACM,SAACC,GAAD,CAAO,CACThB,SAAS,CAAC,KAAD,CAAO,UAAUgB,GAAG,CAACC,IAAJ,CAASC,GAA1B,CAAT,CACAT,OAAO,CAACC,GAAR,CAAYM,GAAG,CAACC,IAAhB,EACH,CAJD,EAKCE,KALD,CAKO,SAACC,KAAD,CAAS,CACZX,OAAO,CAACC,GAAR,CAAYU,KAAZ,EACH,CAPD,EAQH,CATD,CAWA,mBACI,oCACI,WAAI,SAAS,CAAG,aAAhB,mBADJ,cAEA,YAAK,SAAS,CAAG,yCAAjB,uBAEI,qCACA,aAAK,SAAS,CAAC,YAAf,wBACI,cAAO,GAAG,CAAC,0BAAX,sBADJ,cAEI,cAAO,IAAI,CAAC,MAAZ,CAAmB,SAAS,CAAC,cAA7B,CAA4C,EAAE,CAAC,UAA/C,CAA0D,IAAI,CAAG,UAAjE,CAA4E,KAAK,CAAI3B,IAAI,CAACF,QAA1F,CAAoG,QAAQ,CAAII,MAAhH,CAAwH,WAAW,CAAC,UAApI,EAFJ,GADA,cAKA,aAAK,SAAS,CAAC,YAAf,wBACI,cAAO,GAAG,CAAC,0BAAX,sBADJ,cAEI,cAAO,IAAI,CAAC,UAAZ,CAAuB,SAAS,CAAC,cAAjC,CAAgD,EAAE,CAAC,UAAnD,CAA8D,IAAI,CAAG,UAArE,CAAgF,KAAK,CAAIF,IAAI,CAACD,QAA9F,CAAwG,QAAQ,CAAIG,MAApH,CAA4H,WAAW,CAAC,UAAxI,EAFJ,GALA,GAFJ,EAFA,cAgBA,eAAQ,IAAI,CAAC,QAAb,CAAsB,KAAK,CAAC,gCAA5B,CAA6D,OAAO,CAAEkB,KAAtE,mBAhBA,GADJ,CAoBH","sourcesContent":["import axios from 'axios';\r\nimport React,{useState} from 'react'\r\n\r\nexport default function Login() {\r\n\r\n    const api = \"http://localhost:8080/authenticate\";\r\n\r\n    const [user,setUser] = useState({username:'',password:''})\r\n\r\n    const change = (e)=>{\r\n\r\n        setUser({...user,[e.target.name]:e.target.value});\r\n    }\r\n    function setCookie(cname, cvalue) {\r\n        const d = new Date();\r\n        d.setTime(d.getTime() +(1000*60*60*10));\r\n        let expires = \"expires=\"+ d.toUTCString();\r\n        console.log(d.toUTCString())\r\n        document.cookie = cname + \"=\" + cvalue + \";\" + expires ;\r\n      }\r\n    const login = ()=>{\r\n        axios.post(api,user)\r\n        .then((res)=>{\r\n            setCookie(\"jwt\",\"Bearer \"+res.data.jwt);\r\n            console.log(res.data);\r\n        })\r\n        .catch((error)=>{\r\n            console.log(error);\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h3 className = \"text-center\">Login</h3>\r\n        <div className = \"d-flex justify-content-center mt-3 mb-3\">\r\n            \r\n            <form>\r\n            <div className=\"form-group\">\r\n                <label for=\"exampleFormControlInput1\">Username</label>\r\n                <input type=\"text\" className=\"form-control\" id=\"username\" name = \"username\" value = {user.username} onChange = {change} placeholder=\"username\"/>\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label for=\"exampleFormControlInput1\">Password</label>\r\n                <input type=\"password\" className=\"form-control\" id=\"password\" name = \"password\" value = {user.password} onChange = {change} placeholder=\"password\"/>\r\n            </div>\r\n            </form>\r\n            \r\n        </div>\r\n        <button type=\"button\" class=\"btn btn-primary content-conter\" onClick={login}>Login</button>\r\n        </div>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}